(function(e){function t(t){for(var s,n,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=r[0]))}return e}var s={},a={app:0},o=[];function n(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=s,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3da5":function(e,t,r){},"4a3d":function(e,t,r){"use strict";var s=r("72dc"),a=r.n(s);a.a},"56d7":function(e,t,r){"use strict";r.r(t);var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Dish info lookup app")]),r("PostArea",{attrs:{genre:this.genre,category:this.category}}),r("SearchArea",{on:{filter:e.updateResults,optionsForPost:e.updateOptions}}),r("ResultArea",{attrs:{result:this.result}})],1)},o=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Search area "),r("div",[e._v(" Name: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedName,expression:"selectedName"}],attrs:{type:"text"},domProps:{value:e.selectedName},on:{input:function(t){t.target.composing||(e.selectedName=t.target.value)}}})]),r("div",[e._v(" Genre: "),e._l(e.genre,(function(t){return r("label",{key:t,staticClass:"genre"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre,expression:"selectedGenre"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedGenre)?e._i(e.selectedGenre,t)>-1:e.selectedGenre},on:{change:function(r){var s=e.selectedGenre,a=r.target,o=!!a.checked;if(Array.isArray(s)){var n=t,i=e._i(s,n);a.checked?i<0&&(e.selectedGenre=s.concat([n])):i>-1&&(e.selectedGenre=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedGenre=o}}}),e._v(" "+e._s(t)+" ")])}))],2),r("div",[e._v(" Category: "),e._l(e.category,(function(t){return r("label",{key:t,staticClass:"category"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedCategory)?e._i(e.selectedCategory,t)>-1:e.selectedCategory},on:{change:function(r){var s=e.selectedCategory,a=r.target,o=!!a.checked;if(Array.isArray(s)){var n=t,i=e._i(s,n);a.checked?i<0&&(e.selectedCategory=s.concat([n])):i>-1&&(e.selectedCategory=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCategory=o}}}),e._v(" "+e._s(t)+" ")])}))],2),r("div",[r("button",{attrs:{type:"button"},on:{click:function(t){return e.$emit("filter",e.result)}}},[e._v(" Search ")]),r("button",{attrs:{type:"button"},on:{click:e.clearFilter}},[e._v("Clear")])])])},i=[],c=r("bc3a"),l=r.n(c),d={name:"SearchArea",async mounted(){const{data:e}=await l.a.get("/api/dishes");this.dishes=e.slice().reverse(),this.$emit("filter",this.dishes),this.genre=this.checkboxOption("genre"),this.category=this.checkboxOption("category"),this.$emit("optionsForPost",this.genre,this.category)},methods:{checkboxOption(e){return this.dishes.map(t=>t[e]).reduce((e,t)=>(e.includes(t)||e.push(t),e),[])},clearFilter(){this.selectedCategory=[],this.selectedGenre=[],this.selectedName="",this.$emit("filter",this.dishes)}},computed:{result(){let e=this.dishes;const t=(t,r)=>{e=e.filter(e=>t.includes(e[r]))};return this.selectedGenre.length>0&&t(this.selectedGenre,"genre"),this.selectedCategory.length>0&&t(this.selectedCategory,"category"),this.selectedName&&t(this.selectedName,"name"),e}},data(){return{dishes:[],genre:[],category:[],selectedName:"",selectedGenre:[],selectedCategory:[]}}},u=d,p=r("2877"),h=Object(p["a"])(u,n,i,!1,null,null,null),v=h.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Result area "),e.result.length>0?r("div",e._l(e.result,(function(t){return r("div",{key:t.id,staticClass:"card"},[r("div",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")]),r("div",{staticClass:"genre"},[e._v(e._s(t.genre))]),r("div",{staticClass:"category"},[e._v(e._s(t.category))])])})),0):r("div",[e._v(" No result ")])])},g=[],y={name:"ResultArea",props:["result"]},f=y,_=(r("4a3d"),Object(p["a"])(f,m,g,!1,null,null,null)),C=_.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Post area "),r("div",[r("div",[e._v(" Name "),r("a",{staticClass:"mandatory-mark"},[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.postName,expression:"postName"}],attrs:{type:"text"},domProps:{value:e.postName},on:{input:function(t){t.target.composing||(e.postName=t.target.value)}}})]),r("div",[e._v(" Genre"),r("a",{staticClass:"mandatory-mark"},[e._v("*")]),e._l(e.genre,(function(t){return r("label",{key:t,staticClass:"genre"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.postGenre,expression:"postGenre"}],attrs:{type:"radio",name:"genre"},domProps:{value:t,checked:e._q(e.postGenre,t)},on:{change:function(r){e.postGenre=t}}}),e._v(" "+e._s(t)+" ")])}))],2),r("div",[e._v(" Category"),r("a",{staticClass:"mandatory-mark"},[e._v("*")]),e._l(e.category,(function(t){return r("label",{key:t,staticClass:"category"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.postCategory,expression:"postCategory"}],attrs:{type:"radio",name:"category"},domProps:{value:t,checked:e._q(e.postCategory,t)},on:{change:function(r){e.postCategory=t}}}),e._v(" "+e._s(t)+" ")])}))],2),r("div",[r("a",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted,expression:"isCompleted"}]},[e._v("Fill all fields!")])])]),r("div",[r("button",{attrs:{type:"button"},on:{click:e.validation}},[e._v(" Post ")]),r("button",{attrs:{type:"button"},on:{click:e.clearForm}},[e._v("Clear")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.postError,expression:"postError"}]},[e._v(" Error happened! Try again ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isPosted,expression:"isPosted"}]},[r("a",[e._v("Dish is added!")]),r("div",[e._v("Name: "+e._s(e.addedName))]),r("div",[e._v("Genre: "+e._s(e.addedGenre))]),r("div",[e._v("Category: "+e._s(e.addedCategory))]),r("button",{attrs:{type:"button"},on:{click:e.contentConfirm}},[e._v("Got it")])])])},N=[],k={name:"PostArea",props:["genre","category"],methods:{clearForm(){this.postName="",this.postGenre="",this.postCategory="",this.isCompleted=!1,this.isPosted=!1,this.postError=!1},contentConfirm(){this.addedName="",this.addedGenre="",this.addedCategory="",this.clearForm()},sendDataToDB(){l.a.post("/api/dishes",{name:this.postName,genre:this.postGenre,category:this.postCategory}).then(e=>{this.addedName=JSON.parse(e.config.data).name,this.addedGenre=JSON.parse(e.config.data).genre,this.addedCategory=JSON.parse(e.config.data).category,console.log(JSON.parse(e.config.data).name)}).then(()=>{this.isPosted=!0}).catsh(e=>{this.postError=!0})},validation(){this.postName&&this.postName&&this.postCategory?(this.isCompleted=!1,this.sendDataToDB()):this.isCompleted=!0}},data(){return{postName:"",postGenre:"",postCategory:"",isCompleted:!1,isPosted:!1,addedName:"",addedGenre:"",addedCategory:"",postError:!1}}},G=k,w=(r("f05d"),Object(p["a"])(G,b,N,!1,null,null,null)),x=w.exports,P={name:"App",components:{SearchArea:v,ResultArea:C,PostArea:x},methods:{updateResults(e){this.result=e},updateOptions(e,t){this.genre=e,this.category=t}},data(){return{result:[],genre:[],category:[]}}},O=P,A=Object(p["a"])(O,a,o,!1,null,null,null),S=A.exports;new s["a"]({render:e=>e(S)}).$mount("#app")},"72dc":function(e,t,r){},f05d:function(e,t,r){"use strict";var s=r("3da5"),a=r.n(s);a.a}});
//# sourceMappingURL=app.870498be.js.map