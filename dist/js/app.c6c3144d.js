(function(e){function t(t){for(var s,i,o=t[0],c=t[1],d=t[2],u=0,p=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1b85":function(e,t,a){e.exports=a.p+"img/ingredients.c3eb2ff8.jpg"},"35d8":function(e,t,a){"use strict";var s=a("cfb8"),r=a.n(s);r.a},"3da5":function(e,t,a){},"4a3d":function(e,t,a){"use strict";var s=a("72dc"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top"},[a("h1",[e._v("Discover Dishes!")]),a("PostArea",{attrs:{genre:this.genre,category:this.category}}),a("SearchArea",{on:{filter:e.updateResults,optionsForPost:e.updateOptions}}),a("ResultArea",{attrs:{genre:this.genre,category:this.category,result:this.result}})],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-area"},[a("a",{staticClass:"area-title"},[e._v("Search")]),a("div",[e._v(" Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedName,expression:"selectedName"}],staticClass:"name-input",attrs:{type:"text"},domProps:{value:e.selectedName},on:{input:function(t){t.target.composing||(e.selectedName=t.target.value)}}})]),a("div",[e._v(" Genre: "),e._l(e.genre,(function(t){return a("label",{key:t,staticClass:"genre"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre,expression:"selectedGenre"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedGenre)?e._i(e.selectedGenre,t)>-1:e.selectedGenre},on:{change:function(a){var s=e.selectedGenre,r=a.target,n=!!r.checked;if(Array.isArray(s)){var i=t,o=e._i(s,i);r.checked?o<0&&(e.selectedGenre=s.concat([i])):o>-1&&(e.selectedGenre=s.slice(0,o).concat(s.slice(o+1)))}else e.selectedGenre=n}}}),e._v(" "+e._s(t)+" ")])}))],2),a("div",[e._v(" Category: "),e._l(e.category,(function(t){return a("label",{key:t,staticClass:"category"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedCategory)?e._i(e.selectedCategory,t)>-1:e.selectedCategory},on:{change:function(a){var s=e.selectedCategory,r=a.target,n=!!r.checked;if(Array.isArray(s)){var i=t,o=e._i(s,i);r.checked?o<0&&(e.selectedCategory=s.concat([i])):o>-1&&(e.selectedCategory=s.slice(0,o).concat(s.slice(o+1)))}else e.selectedCategory=n}}}),e._v(" "+e._s(t)+" ")])}))],2),a("div",[a("button",{staticClass:"button-search",attrs:{type:"button"},on:{click:function(t){return e.$emit("filter",e.result)}}},[e._v("Search")]),a("button",{staticClass:"button-search",attrs:{type:"button"},on:{click:e.clearFilter}},[e._v("Clear")])])])},o=[],c=a("bc3a"),d=a.n(c),l={name:"SearchArea",mounted(){this.getAllDishes()},methods:{async getAllDishes(){const{data:e}=await d.a.get("/api/dishes");this.dishes=e.slice().reverse(),this.$emit("filter",this.dishes),this.genre=this.checkboxOption("genre"),this.category=this.checkboxOption("category"),this.$emit("optionsForPost",this.genre,this.category)},checkboxOption(e){return this.dishes.map(t=>t[e]).reduce((e,t)=>(e.includes(t)||e.push(t),e),[])},clearFilter(){this.selectedCategory=[],this.selectedGenre=[],this.selectedName="",this.$emit("filter",this.dishes)}},computed:{result(){let e=this.dishes;const t=(t,a)=>{e=e.filter(e=>t.includes(e[a]))};return this.selectedGenre.length>0&&t(this.selectedGenre,"genre"),this.selectedCategory.length>0&&t(this.selectedCategory,"category"),this.selectedName&&t(this.selectedName,"name"),e}},data(){return{dishes:[],genre:[],category:[],selectedName:"",selectedGenre:[],selectedCategory:[]}}},u=l,p=(a("d780"),a("2877")),h=Object(p["a"])(u,i,o,!1,null,null,null),v=h.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.result.length>0?a("div",e._l(e.result,(function(t){return a("DishCard",{key:t.id,attrs:{genre:e.genre,category:e.category,dish:t}})})),1):a("div",[e._v("No result")])])},g=[],y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[e.edit?s("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{type:"text",placeholder:e.dish.name},domProps:{value:e.editName},on:{input:function(t){t.target.composing||(e.editName=t.target.value)}}}):s("h3",{staticClass:"name"},[e._v(e._s(e.dish.name))]),s("div",[s("button",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],attrs:{type:"button"},on:{click:function(t){return e.deleteDish(e.dish.id)}}},[e._v("delete")]),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],attrs:{type:"button"},on:{click:e.toggleEdit}},[e._v("edit")]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],attrs:{type:"button"},on:{click:e.toggleEdit}},[e._v("discard changes")]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],attrs:{type:"button"},on:{click:function(t){return e.updateDish(e.dish.id)}}},[e._v("save")])]),s("img",{staticClass:"image",attrs:{src:a("1b85")}}),e.edit?s("div",[s("label",[e._v("Genre:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.editGenre,expression:"editGenre"}],attrs:{name:"genre",id:"edit-genre"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.editGenre=t.target.multiple?a:a[0]}}},e._l(e.genre,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]):s("div",{staticClass:"genre"},[e._v("Genre: "+e._s(e.dish.genre))]),e.edit?s("div",[s("label",[e._v("Category:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.editCategoty,expression:"editCategoty"}],attrs:{name:"category",id:"edit-category"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.editCategoty=t.target.multiple?a:a[0]}}},e._l(e.category,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]):s("div",{staticClass:"category"},[e._v("Category: "+e._s(e.dish.category))])])},f=[],_={name:"DishCard",props:["dish","genre","category"],data(){return{edit:!1,editName:"",editGenre:"",editCategoty:""}},methods:{updateDish(e){this.editName&&this.editGenre&&this.editCategoty?d.a.patch("/api/dishes/"+e,{name:this.editName,genre:this.editGenre,category:this.editCategoty}).then(e=>{console.log(e.config.data),console.log("updated")}).then(()=>{this.toggleEdit()}):console.log("error")},deleteDish(e){d.a.delete("/api/dishes/"+e).then(()=>console.log("deleted")).catch(e=>console.log(e))},toggleEdit(){this.edit=!this.edit}}},C=_,b=Object(p["a"])(C,y,f,!1,null,null,null),N=b.exports,w={name:"ResultArea",components:{DishCard:N},props:["result","genre","category"]},x=w,k=(a("4a3d"),Object(p["a"])(x,m,g,!1,null,null,null)),G=k.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"post-area"},[a("a",{staticClass:"area-title"},[e._v("Post new dish")]),a("div",[a("div",[e._v(" Name "),a("a",{staticClass:"mandatory-mark"},[e._v("*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.postName,expression:"postName"}],staticClass:"name-input",attrs:{type:"text"},domProps:{value:e.postName},on:{input:function(t){t.target.composing||(e.postName=t.target.value)}}})]),a("div",[e._v(" Genre "),a("a",{staticClass:"mandatory-mark"},[e._v("*")]),e._l(e.genre,(function(t){return a("label",{key:t,staticClass:"genre"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.postGenre,expression:"postGenre"}],attrs:{type:"radio",name:"genre"},domProps:{value:t,checked:e._q(e.postGenre,t)},on:{change:function(a){e.postGenre=t}}}),e._v(" "+e._s(t)+" ")])}))],2),a("div",[e._v(" Category "),a("a",{staticClass:"mandatory-mark"},[e._v("*")]),e._l(e.category,(function(t){return a("label",{key:t,staticClass:"category"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.postCategory,expression:"postCategory"}],attrs:{type:"radio",name:"category"},domProps:{value:t,checked:e._q(e.postCategory,t)},on:{change:function(a){e.postCategory=t}}}),e._v(" "+e._s(t)+" ")])}))],2),a("div",[a("a",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted,expression:"isCompleted"}]},[e._v("Error - Fill all fields!")])])]),a("div",[a("button",{staticClass:"button-post",attrs:{type:"button"},on:{click:e.validation}},[e._v("Post")]),a("button",{staticClass:"button-post",attrs:{type:"button"},on:{click:e.clearForm}},[e._v("Clear")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.postError,expression:"postError"}]},[e._v("Error happened! Try again")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isPosted,expression:"isPosted"}],staticClass:"post-area"},[a("a",{staticClass:"area-title"},[e._v("Dish is added!")]),a("div",[e._v("Name: "+e._s(e.addedName))]),a("div",[e._v("Genre: "+e._s(e.addedGenre))]),a("div",[e._v("Category: "+e._s(e.addedCategory))]),a("button",{staticClass:"button-post",attrs:{type:"button"},on:{click:e.contentConfirm}},[e._v("Confirm")])])])])},O=[],A={name:"PostArea",props:["genre","category"],methods:{clearForm(){this.postName="",this.postGenre="",this.postCategory="",this.isCompleted=!1,this.isPosted=!1,this.postError=!1},contentConfirm(){this.addedName="",this.addedGenre="",this.addedCategory="",this.clearForm()},sendDataToDB(){d.a.post("/api/dishes",{name:this.postName,genre:this.postGenre,category:this.postCategory}).then(e=>{this.addedName=JSON.parse(e.config.data).name,this.addedGenre=JSON.parse(e.config.data).genre,this.addedCategory=JSON.parse(e.config.data).category}).then(()=>{this.isPosted=!0}).catch(e=>{this.postError=!0})},validation(){this.postName&&this.postName&&this.postCategory?(this.isCompleted=!1,this.sendDataToDB()):this.isCompleted=!0}},data(){return{postName:"",postGenre:"",postCategory:"",isCompleted:!1,isPosted:!1,addedName:"",addedGenre:"",addedCategory:"",postError:!1}}},D=A,E=(a("f05d"),Object(p["a"])(D,P,O,!1,null,null,null)),j=E.exports,S={name:"App",components:{SearchArea:v,ResultArea:G,PostArea:j},methods:{updateResults(e){this.result=e},updateOptions(e,t){this.genre=e,this.category=t}},data(){return{result:[],genre:[],category:[]}}},$=S,F=(a("35d8"),Object(p["a"])($,r,n,!1,null,"20beb622",null)),J=F.exports;new s["a"]({render:e=>e(J)}).$mount("#app")},"72dc":function(e,t,a){},c597:function(e,t,a){},cfb8:function(e,t,a){},d780:function(e,t,a){"use strict";var s=a("c597"),r=a.n(s);r.a},f05d:function(e,t,a){"use strict";var s=a("3da5"),r=a.n(s);r.a}});
//# sourceMappingURL=app.c6c3144d.js.map