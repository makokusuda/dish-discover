(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0f35":function(e,t,s){"use strict";var a=s("637d"),r=s.n(a);r.a},"1b85":function(e,t,s){e.exports=s.p+"img/ingredients.c3eb2ff8.jpg"},"3da5":function(e,t,s){},"4a3d":function(e,t,s){"use strict";var a=s("72dc"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top"},[s("h1",[e._v("Discover Dishes!")]),s("PostArea",{attrs:{genre:this.genre,category:this.category}}),s("SearchArea",{on:{filter:e.updateResults,optionsForPost:e.updateOptions}}),s("ResultArea",{attrs:{result:this.result}})],1)},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-area"},[s("a",{staticClass:"area-title"},[e._v("Search")]),s("div",[e._v(" Name: "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedName,expression:"selectedName"}],staticClass:"name-input",attrs:{type:"text"},domProps:{value:e.selectedName},on:{input:function(t){t.target.composing||(e.selectedName=t.target.value)}}})]),s("div",[e._v(" Genre: "),e._l(e.genre,(function(t){return s("label",{key:t,staticClass:"genre"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre,expression:"selectedGenre"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedGenre)?e._i(e.selectedGenre,t)>-1:e.selectedGenre},on:{change:function(s){var a=e.selectedGenre,r=s.target,n=!!r.checked;if(Array.isArray(a)){var o=t,i=e._i(a,o);r.checked?i<0&&(e.selectedGenre=a.concat([o])):i>-1&&(e.selectedGenre=a.slice(0,i).concat(a.slice(i+1)))}else e.selectedGenre=n}}}),e._v(" "+e._s(t)+" ")])}))],2),s("div",[e._v(" Category: "),e._l(e.category,(function(t){return s("label",{key:t,staticClass:"category"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedCategory)?e._i(e.selectedCategory,t)>-1:e.selectedCategory},on:{change:function(s){var a=e.selectedCategory,r=s.target,n=!!r.checked;if(Array.isArray(a)){var o=t,i=e._i(a,o);r.checked?i<0&&(e.selectedCategory=a.concat([o])):i>-1&&(e.selectedCategory=a.slice(0,i).concat(a.slice(i+1)))}else e.selectedCategory=n}}}),e._v(" "+e._s(t)+" ")])}))],2),s("div",[s("button",{staticClass:"button-search",attrs:{type:"button"},on:{click:function(t){return e.$emit("filter",e.result)}}},[e._v("Search")]),s("button",{staticClass:"button-search",attrs:{type:"button"},on:{click:e.clearFilter}},[e._v("Clear")])])])},i=[],c=s("bc3a"),l=s.n(c),d={name:"SearchArea",mounted(){this.getDataFromDB()},methods:{async getDataFromDB(){const{data:e}=await l.a.get("/api/dishes");this.dishes=e.slice().reverse(),this.$emit("filter",this.dishes),this.genre=this.checkboxOption("genre"),this.category=this.checkboxOption("category"),this.$emit("optionsForPost",this.genre,this.category)},checkboxOption(e){return this.dishes.map(t=>t[e]).reduce((e,t)=>(e.includes(t)||e.push(t),e),[])},clearFilter(){this.selectedCategory=[],this.selectedGenre=[],this.selectedName="",this.$emit("filter",this.dishes)}},computed:{result(){let e=this.dishes;const t=(t,s)=>{e=e.filter(e=>t.includes(e[s]))};return this.selectedGenre.length>0&&t(this.selectedGenre,"genre"),this.selectedCategory.length>0&&t(this.selectedCategory,"category"),this.selectedName&&t(this.selectedName,"name"),e}},data(){return{dishes:[],genre:[],category:[],selectedName:"",selectedGenre:[],selectedCategory:[]}}},u=d,p=(s("d780"),s("2877")),h=Object(p["a"])(u,o,i,!1,null,null,null),v=h.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.result.length>0?a("div",e._l(e.result,(function(t){return a("div",{key:t.id,staticClass:"card"},[a("h3",{staticClass:"name"},[e._v(e._s(t.name))]),a("img",{staticClass:"image",attrs:{src:s("1b85")}}),a("div",{staticClass:"genre"},[e._v("Genre: "+e._s(t.genre))]),a("div",{staticClass:"category"},[e._v("Category: "+e._s(t.category))])])})),0):a("div",[e._v("No result")])])},g=[],y={name:"ResultArea",props:["result"]},f=y,_=(s("4a3d"),Object(p["a"])(f,m,g,!1,null,null,null)),C=_.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-area"},[s("a",{staticClass:"area-title"},[e._v("Post new dish")]),s("div",[s("div",[e._v(" Name "),s("a",{staticClass:"mandatory-mark"},[e._v("*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.postName,expression:"postName"}],staticClass:"name-input",attrs:{type:"text"},domProps:{value:e.postName},on:{input:function(t){t.target.composing||(e.postName=t.target.value)}}})]),s("div",[e._v(" Genre "),s("a",{staticClass:"mandatory-mark"},[e._v("*")]),e._l(e.genre,(function(t){return s("label",{key:t,staticClass:"genre"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postGenre,expression:"postGenre"}],attrs:{type:"radio",name:"genre"},domProps:{value:t,checked:e._q(e.postGenre,t)},on:{change:function(s){e.postGenre=t}}}),e._v(" "+e._s(t)+" ")])}))],2),s("div",[e._v(" Category "),s("a",{staticClass:"mandatory-mark"},[e._v("*")]),e._l(e.category,(function(t){return s("label",{key:t,staticClass:"category"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postCategory,expression:"postCategory"}],attrs:{type:"radio",name:"category"},domProps:{value:t,checked:e._q(e.postCategory,t)},on:{change:function(s){e.postCategory=t}}}),e._v(" "+e._s(t)+" ")])}))],2),s("div",[s("a",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted,expression:"isCompleted"}]},[e._v("Error - Fill all fields!")])])]),s("div",[s("button",{staticClass:"button-post",attrs:{type:"button"},on:{click:e.validation}},[e._v("Post")]),s("button",{staticClass:"button-post",attrs:{type:"button"},on:{click:e.clearForm}},[e._v("Clear")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.postError,expression:"postError"}]},[e._v("Error happened! Try again")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isPosted,expression:"isPosted"}]},[s("a",[e._v("Dish is added!")]),s("div",[e._v("Name: "+e._s(e.addedName))]),s("div",[e._v("Genre: "+e._s(e.addedGenre))]),s("div",[e._v("Category: "+e._s(e.addedCategory))]),s("button",{attrs:{type:"button"},on:{click:e.contentConfirm}},[e._v("Got it")])])])},N=[],k={name:"PostArea",props:["genre","category"],methods:{clearForm(){this.postName="",this.postGenre="",this.postCategory="",this.isCompleted=!1,this.isPosted=!1,this.postError=!1},contentConfirm(){this.addedName="",this.addedGenre="",this.addedCategory="",this.clearForm()},sendDataToDB(){l.a.post("/api/dishes",{name:this.postName,genre:this.postGenre,category:this.postCategory}).then(e=>{this.addedName=JSON.parse(e.config.data).name,this.addedGenre=JSON.parse(e.config.data).genre,this.addedCategory=JSON.parse(e.config.data).category}).then(()=>{this.isPosted=!0}).catsh(e=>{this.postError=!0})},validation(){this.postName&&this.postName&&this.postCategory?(this.isCompleted=!1,this.sendDataToDB()):this.isCompleted=!0}},data(){return{postName:"",postGenre:"",postCategory:"",isCompleted:!1,isPosted:!1,addedName:"",addedGenre:"",addedCategory:"",postError:!1}}},G=k,w=(s("f05d"),Object(p["a"])(G,b,N,!1,null,null,null)),x=w.exports,P={name:"App",components:{SearchArea:v,ResultArea:C,PostArea:x},methods:{updateResults(e){this.result=e},updateOptions(e,t){this.genre=e,this.category=t}},data(){return{result:[],genre:[],category:[]}}},O=P,A=(s("0f35"),Object(p["a"])(O,r,n,!1,null,"6250ac41",null)),j=A.exports;new a["a"]({render:e=>e(j)}).$mount("#app")},"637d":function(e,t,s){},"72dc":function(e,t,s){},c597:function(e,t,s){},d780:function(e,t,s){"use strict";var a=s("c597"),r=s.n(a);r.a},f05d:function(e,t,s){"use strict";var a=s("3da5"),r=s.n(a);r.a}});
//# sourceMappingURL=app.4254002c.js.map